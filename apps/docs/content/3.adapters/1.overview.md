---
title: Adapters Overview
description: Send your logs to external services with evlog adapters. Built-in support for popular observability platforms and custom destinations.
navigation:
  title: Overview
  icon: i-custom-plug
links:
  - label: Axiom
    icon: i-custom-axiom
    to: /adapters/axiom
    color: neutral
    variant: subtle
  - label: OTLP
    icon: i-simple-icons-opentelemetry
    to: /adapters/otlp
    color: neutral
    variant: subtle
  - label: PostHog
    icon: i-simple-icons-posthog
    to: /adapters/posthog
    color: neutral
    variant: subtle
  - label: Sentry
    icon: i-simple-icons-sentry
    to: /adapters/sentry
    color: neutral
    variant: subtle
  - label: Better Stack
    icon: i-simple-icons-betterstack
    to: /adapters/better-stack
    color: neutral
    variant: subtle
---

Adapters let you send logs to external observability platforms. evlog provides built-in adapters for popular services, and you can create custom adapters for any destination.

## How Adapters Work

Adapters hook into the `evlog:drain` event, which fires after each request completes. The drain runs in **fire-and-forget** mode, meaning it never blocks the HTTP response.

```typescript [server/plugins/evlog-drain.ts]
import { createAxiomDrain } from 'evlog/axiom'

export default defineNitroPlugin((nitroApp) => {
  nitroApp.hooks.hook('evlog:drain', createAxiomDrain())
})
```

::callout{icon="i-lucide-cloud" color="info"}
**Serverless Support:** On Cloudflare Workers and Vercel Edge, evlog automatically uses `waitUntil()` to ensure drains complete before the runtime terminates. No additional configuration needed.
::

## Available Adapters

::card-group
  :::card
  ---
  icon: i-custom-axiom
  title: Axiom
  to: /adapters/axiom
  ---
  Send logs to Axiom for powerful querying and dashboards.
  :::

  :::card
  ---
  icon: i-simple-icons-opentelemetry
  title: OTLP
  to: /adapters/otlp
  ---
  OpenTelemetry Protocol for Grafana, Datadog, Honeycomb, and more.
  :::

  :::card
  ---
  icon: i-simple-icons-posthog
  title: PostHog
  to: /adapters/posthog
  ---
  Send logs to PostHog for product analytics and wide event querying.
  :::

  :::card
  ---
  icon: i-simple-icons-sentry
  title: Sentry
  to: /adapters/sentry
  ---
  Send structured logs to Sentry Logs for high-cardinality querying.
  :::

  :::card
  ---
  icon: i-simple-icons-betterstack
  title: Better Stack
  to: /adapters/better-stack
  ---
  Send logs to Better Stack for log management and alerting.
  :::

  :::card
  ---
  icon: i-lucide-code
  title: Custom
  to: /adapters/custom
  ---
  Build your own adapter for any destination.
  :::

  :::card
  ---
  icon: i-lucide-workflow
  title: Pipeline
  to: /adapters/pipeline
  ---
  Batch events, retry on failure, and handle buffer overflow.
  :::
::

## Standalone Usage (Without Nitro)

In plain TypeScript or Bun scripts, use the `drain` option in `initLogger` instead of Nitro hooks. Every emitted event is drained automatically.

```typescript [index.ts]
import type { DrainContext } from 'evlog'
import { initLogger, log, createRequestLogger } from 'evlog'
import { createAxiomDrain } from 'evlog/axiom'
import { createDrainPipeline } from 'evlog/pipeline'

const pipeline = createDrainPipeline<DrainContext>()
const drain = pipeline(createAxiomDrain())

initLogger({
  env: { service: 'my-script' },
  drain,
})

log.info({ action: 'job_started' }) // drained automatically

const reqLog = createRequestLogger({ method: 'POST', path: '/process' })
reqLog.set({ processed: 42 })
reqLog.emit() // drained automatically

await drain.flush()
```

::callout{icon="i-lucide-arrow-right" color="neutral"}
See the full [bun-script example](https://github.com/HugoRCD/evlog/tree/main/examples/bun-script) for a realistic batch processing script.
::

## Multiple Destinations

Send logs to multiple services simultaneously:

```typescript [server/plugins/evlog-drain.ts]
import { createAxiomDrain } from 'evlog/axiom'
import { createOTLPDrain } from 'evlog/otlp'

export default defineNitroPlugin((nitroApp) => {
  const axiom = createAxiomDrain()
  const otlp = createOTLPDrain()

  nitroApp.hooks.hook('evlog:drain', async (ctx) => {
    await Promise.allSettled([axiom(ctx), otlp(ctx)])
  })
})
```

## Drain Context

Every adapter receives a `DrainContext` with:

| Field | Type | Description |
|-------|------|-------------|
| `event` | `WideEvent` | The complete log event with all accumulated context |
| `request` | `object` | Request metadata (`method`, `path`, `requestId`) |
| `headers` | `object` | Safe HTTP headers (sensitive headers are filtered) |

::callout{icon="i-lucide-shield-check" color="success"}
**Security:** Sensitive headers (`authorization`, `cookie`, `x-api-key`, etc.) are automatically filtered and never passed to adapters.
::

## Zero-Config Setup

All adapters support automatic configuration via environment variables. No code changes needed when deploying to different environments:

```bash [.env]
# Axiom
NUXT_AXIOM_TOKEN=xaat-xxx
NUXT_AXIOM_DATASET=my-logs

# OTLP
NUXT_OTLP_ENDPOINT=https://otlp.example.com

# PostHog
NUXT_POSTHOG_API_KEY=phc_xxx

# Sentry
NUXT_SENTRY_DSN=https://key@o0.ingest.sentry.io/123

# Better Stack
NUXT_BETTER_STACK_SOURCE_TOKEN=your-source-token
```

```typescript [server/plugins/evlog-drain.ts]
import { createAxiomDrain } from 'evlog/axiom'

export default defineNitroPlugin((nitroApp) => {
  // Automatically reads from env vars
  nitroApp.hooks.hook('evlog:drain', createAxiomDrain())
})
```
